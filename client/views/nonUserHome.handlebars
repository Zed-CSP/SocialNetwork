<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous" />
    <link rel="stylesheet" href="/css/dashboard.css" />
</head>

<body>
    <div class="container">
        <div class="row">
            <!-- Feed Section -->
            <div class="col-8 overflow-auto" style="height: 100vh;">
                <!-- Each Post -->
                {{#each posts}}
                <div class="card mt-3">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <img src="{{ profile_picture }}" alt="Profile Picture" class="profile-pic mr-2" />
                            <h4 class="card-title mb-0">{{this.user.username}}</h4>
                        </div>
                        <h5 class="card-title">{{this.title}}</h5>
                        <p class="card-text">{{this.content}}</p>
                        <a href="#" class="btn btn-secondary comment-button" data-post-id="{{this.id}}"> ðŸ’¬
                            <span class="comments-count" data-post-id="{{this.id}}">{{this.comments.length}}</span>
                        </a>

                        <!-- Comment input field -->
                        <div class="input-group mb-3 comment-input" data-post-id="{{this.id}}">
                        </div>
                    </div>
                    <div class="comments" id="comments-{{this.id}}">
                        <ul class="list-group list-group-flush">
                            {{#each this.comments}}
                            <li class="list-group-item"><strong>{{this.user.username}}:</strong> {{this.content}}</li>
                            {{/each}}
                        </ul>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script src="/js/post.js"></script>
    <script src="/js/feed.js"></script>
</body>

</html>